    <script>


      function drawBoard(board){
        for (let i = 0; i < board.points.length; i++) {
            drawPieces(i, "white", board.points[i].checkerCountWhite)
            drawPieces(i, "black", board.points[i].checkerCountBlack)
        }
        drawPiecesOnBarBottom("white", board.bar.checkerCountWhite);
        drawBearedOffPiecesBottom("white", board.bearedOff.checkerCountWhite)

        drawPiecesOnBarTop("black", board.bar.checkerCountBlack);
        drawBearedOffPiecesTop("black", board.bearedOff.checkerCountBlack)
      };

      function opponentColor(color) {
        if (color == "white")
            return "black"
        return "white"
      }

      function drawPiece(left, top, color) {
            const newPiece = document.createElement("div")
            newPiece.classList.add("piece")
            newPiece.style.left = left
            newPiece.style.top = top
            newPiece.style.backgroundColor = color
            newPiece.style.borderColor = opponentColor(color)
            document.getElementById("board").appendChild(newPiece);
      }

      function drawPieces(point, color, count){
        if (point < 12)
            leftRightPoint = 11 - point
        else
            leftRightPoint = point - 12


        leftPosition = leftRightPoint*40+17;
        if (leftRightPoint > 5) {
            leftPosition = leftPosition + 20 + 20 + 20 + 15
        }
        for (let i = 0; i < count; i++) {
            if (point < 12) {
                drawPiece(leftPosition.toString()+"px", 422 - (i * 38).toString()+"px", color)
            } else {
                drawPiece(leftPosition.toString()+"px", (i * 38).toString()+"px", color)
            }
        }
      };

      function drawPiecesOnBarTop(color, count){
        leftPosition = 6*40+20+17
        for (let i = 0; i < count; i++) {
            drawPiece(leftPosition.toString()+"px", (10 + (i * 10)).toString() + "px", color)
        }
      };

      function drawPiecesOnBarBottom(color, count){
        leftPosition = 6*40+20+17
        for (let i = 0; i < count; i++) {
            drawPiece(leftPosition.toString()+"px", (412 - (i * 10)).toString() + "px", color)
        }
      };

      function drawBearedOffPiecesTop(color, count){
        leftPosition = 580+20+17
        for (let i = 0; i < count; i++) {
            drawPiece(leftPosition.toString()+"px", (i * 10).toString() + "px", color)
        }
      };
      function drawBearedOffPiecesBottom(color, count){
        leftPosition = 580+20+17
        for (let i = 0; i < count; i++) {
            drawPiece(leftPosition.toString()+"px", (422 - (i * 10)).toString() + "px", color)
        }
      };

      function getBoard() {
          var request = new XMLHttpRequest();

          request.open("GET", "trictrac/api/v1/board/");
          request.onreadystatechange = function() {
              if(this.readyState === 4 && this.status === 200) {
                  var board = JSON.parse(this.responseText);
                  drawBoard(board);
              }
          };
          request.send();
      }

      getBoard()

    </script>